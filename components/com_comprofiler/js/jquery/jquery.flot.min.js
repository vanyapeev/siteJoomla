(function(e){e.color={};e.color.make=function(t,i,n,r){var o={};o.r=t||0;o.g=i||0;o.b=n||0;o.a=r!=null?r:1;o.add=function(e,t){for(var i=0;i<e.length;++i)o[e.charAt(i)]+=t;return o.normalize()};o.scale=function(e,t){for(var i=0;i<e.length;++i)o[e.charAt(i)]*=t;return o.normalize()};o.toString=function(){if(o.a>=1){return"rgb("+[o.r,o.g,o.b].join(",")+")"}else{return"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"}};o.normalize=function(){function e(e,t,i){return t<e?e:t>i?i:t}o.r=e(0,parseInt(o.r),255);o.g=e(0,parseInt(o.g),255);o.b=e(0,parseInt(o.b),255);o.a=e(0,o.a,1);return o};o.clone=function(){return e.color.make(o.r,o.b,o.g,o.a)};return o.normalize()};e.color.extract=function(t,i){var n;do{n=t.css(i).toLowerCase();if(n!=""&&n!="transparent")break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));if(n=="rgba(0, 0, 0, 0)")n="transparent";return e.color.parse(n)};e.color.parse=function(i){var n,r=e.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return r(parseFloat(n[1])*2.55,parseFloat(n[2])*2.55,parseFloat(n[3])*2.55);if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return r(parseFloat(n[1])*2.55,parseFloat(n[2])*2.55,parseFloat(n[3])*2.55,parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return r(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return r(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var o=e.trim(i).toLowerCase();if(o=="transparent")return r(255,255,255,0);else{n=t[o]||[0,0,0];return r(n[0],n[1],n[2])}};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(e){var t=Object.prototype.hasOwnProperty;function i(t,i){var n=i.children("."+t)[0];if(n==null){n=document.createElement("canvas");n.className=t;e(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(i);if(!n.getContext){if(window.G_vmlCanvasManager){n=window.G_vmlCanvasManager.initElement(n)}else{throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.")}}}this.element=n;var r=this.context=n.getContext("2d");var o=window.devicePixelRatio||1,a=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=o/a;this.resize(i.width(),i.height());this.textContainer=null;this.text={};this._textCache={}}i.prototype.resize=function(e,t){if(e<=0||t<=0){throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t)}var i=this.element,n=this.context,r=this.pixelRatio;if(this.width!=e){i.width=e*r;i.style.width=e+"px";this.width=e}if(this.height!=t){i.height=t*r;i.style.height=t+"px";this.height=t}n.restore();n.save();n.scale(r,r)};i.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};i.prototype.render=function(){var e=this._textCache;for(var i in e){if(t.call(e,i)){var n=this.getTextLayer(i),r=e[i];n.hide();for(var o in r){if(t.call(r,o)){var a=r[o];for(var l in a){if(t.call(a,l)){var s=a[l].positions;for(var f=0,c;c=s[f];f++){if(c.active){if(!c.rendered){n.append(c.element);c.rendered=true}}else{s.splice(f--,1);if(c.rendered){c.element.detach()}}}if(s.length==0){delete a[l]}}}}}n.show()}}};i.prototype.getTextLayer=function(t){var i=this.text[t];if(i==null){if(this.textContainer==null){this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)}i=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)}return i};i.prototype.getTextInfo=function(t,i,n,r,o){var a,l,s,f;i=""+i;if(typeof n==="object"){a=n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family}else{a=n}l=this._textCache[t];if(l==null){l=this._textCache[t]={}}s=l[a];if(s==null){s=l[a]={}}f=s[i];if(f==null){var c=e("<div></div>").html(i).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(t));if(typeof n==="object"){c.css({font:a,color:n.color})}else if(typeof n==="string"){c.addClass(n)}f=s[i]={width:c.outerWidth(true),height:c.outerHeight(true),element:c,positions:[]};c.detach()}return f};i.prototype.addText=function(e,t,i,n,r,o,a,l,s){var f=this.getTextInfo(e,n,r,o,a),c=f.positions;if(l=="center"){t-=f.width/2}else if(l=="right"){t-=f.width}if(s=="middle"){i-=f.height/2}else if(s=="bottom"){i-=f.height}for(var u=0,h;h=c[u];u++){if(h.x==t&&h.y==i){h.active=true;return}}h={active:true,rendered:false,element:c.length?f.element.clone():f.element,x:t,y:i};c.push(h);h.element.css({top:Math.round(i),left:Math.round(t),"text-align":l})};i.prototype.removeText=function(e,i,n,r,o,a){if(r==null){var l=this._textCache[e];if(l!=null){for(var s in l){if(t.call(l,s)){var f=l[s];for(var c in f){if(t.call(f,c)){var u=f[c].positions;for(var h=0,d;d=u[h];h++){d.active=false}}}}}}}else{var u=this.getTextInfo(e,r,o,a).positions;for(var h=0,d;d=u[h];h++){if(d.x==i&&d.y==n){d.active=false}}}};function n(t,n,o,a){var l=[],s={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false,zero:true},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},f=null,c=null,u=null,h=null,d=null,p=[],g=[],m={left:0,right:0,top:0,bottom:0},v=0,x=0,b={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},k=this;k.setData=T;k.setupGrid=j;k.draw=_;k.getPlaceholder=function(){return t};k.getCanvas=function(){return f.element};k.getPlotOffset=function(){return m};k.width=function(){return v};k.height=function(){return x};k.offset=function(){var e=u.offset();e.left+=m.left;e.top+=m.top;return e};k.getData=function(){return l};k.getAxes=function(){var t={},i;e.each(p.concat(g),function(e,i){if(i)t[i.direction+(i.n!=1?i.n:"")+"axis"]=i});return t};k.getXAxes=function(){return p};k.getYAxes=function(){return g};k.c2p=P;k.p2c=A;k.getOptions=function(){return s};k.highlight=de;k.unhighlight=pe;k.triggerRedrawOverlay=ue;k.pointOffset=function(e){return{left:parseInt(p[z(e,"x")-1].p2c(+e.x)+m.left,10),top:parseInt(g[z(e,"y")-1].p2c(+e.y)+m.top,10)}};k.shutdown=N;k.destroy=function(){N();t.removeData("plot").empty();l=[];s=null;f=null;c=null;u=null;h=null;d=null;p=[];g=[];b=null;re=[];k=null};k.resize=function(){var e=t.width(),i=t.height();f.resize(e,i);c.resize(e,i)};k.hooks=b;w(k);M(o);D();T(n);j();_();F();function y(e,t){t=[k].concat(t);for(var i=0;i<e.length;++i)e[i].apply(this,t)}function w(){var t={Canvas:i};for(var n=0;n<a.length;++n){var r=a[n];r.init(k,t);if(r.options)e.extend(true,s,r.options)}}function M(i){e.extend(true,s,i);if(i&&i.colors){s.colors=i.colors}if(s.xaxis.color==null)s.xaxis.color=e.color.parse(s.grid.color).scale("a",.22).toString();if(s.yaxis.color==null)s.yaxis.color=e.color.parse(s.grid.color).scale("a",.22).toString();if(s.xaxis.tickColor==null)s.xaxis.tickColor=s.grid.tickColor||s.xaxis.color;if(s.yaxis.tickColor==null)s.yaxis.tickColor=s.grid.tickColor||s.yaxis.color;if(s.grid.borderColor==null)s.grid.borderColor=s.grid.color;if(s.grid.tickColor==null)s.grid.tickColor=e.color.parse(s.grid.color).scale("a",.22).toString();var n,r,o,a=t.css("font-size"),l=a?+a.replace("px",""):13,f={style:t.css("font-style"),size:Math.round(.8*l),variant:t.css("font-variant"),weight:t.css("font-weight"),family:t.css("font-family")};o=s.xaxes.length||1;for(n=0;n<o;++n){r=s.xaxes[n];if(r&&!r.tickColor){r.tickColor=r.color}r=e.extend(true,{},s.xaxis,r);s.xaxes[n]=r;if(r.font){r.font=e.extend({},f,r.font);if(!r.font.color){r.font.color=r.color}if(!r.font.lineHeight){r.font.lineHeight=Math.round(r.font.size*1.15)}}}o=s.yaxes.length||1;for(n=0;n<o;++n){r=s.yaxes[n];if(r&&!r.tickColor){r.tickColor=r.color}r=e.extend(true,{},s.yaxis,r);s.yaxes[n]=r;if(r.font){r.font=e.extend({},f,r.font);if(!r.font.color){r.font.color=r.color}if(!r.font.lineHeight){r.font.lineHeight=Math.round(r.font.size*1.15)}}}if(s.xaxis.noTicks&&s.xaxis.ticks==null)s.xaxis.ticks=s.xaxis.noTicks;if(s.yaxis.noTicks&&s.yaxis.ticks==null)s.yaxis.ticks=s.yaxis.noTicks;if(s.x2axis){s.xaxes[1]=e.extend(true,{},s.xaxis,s.x2axis);s.xaxes[1].position="top"}if(s.y2axis){s.yaxes[1]=e.extend(true,{},s.yaxis,s.y2axis);s.yaxes[1].position="right"}if(s.grid.coloredAreas)s.grid.markings=s.grid.coloredAreas;if(s.grid.coloredAreasColor)s.grid.markingsColor=s.grid.coloredAreasColor;if(s.lines)e.extend(true,s.series.lines,s.lines);if(s.points)e.extend(true,s.series.points,s.points);if(s.bars)e.extend(true,s.series.bars,s.bars);if(s.shadowSize!=null)s.series.shadowSize=s.shadowSize;if(s.highlightColor!=null)s.series.highlightColor=s.highlightColor;for(n=0;n<s.xaxes.length;++n)I(p,n+1).options=s.xaxes[n];for(n=0;n<s.yaxes.length;++n)I(g,n+1).options=s.yaxes[n];for(var c in b)if(s.hooks[c]&&s.hooks[c].length)b[c]=b[c].concat(s.hooks[c]);y(b.processOptions,[s])}function T(e){l=S(e);W();O()}function S(t){var i=[];for(var n=0;n<t.length;++n){var r=e.extend(true,{},s.series);if(t[n].data!=null){r.data=t[n].data;delete t[n].data;e.extend(true,r,t[n]);t[n].data=r.data}else r.data=t[n];i.push(r)}return i}function z(e,t){var i=e[t+"axis"];if(typeof i=="object")i=i.n;if(typeof i!="number")i=1;return i}function C(){return e.grep(p.concat(g),function(e){return e})}function P(e){var t={},i,n;for(i=0;i<p.length;++i){n=p[i];if(n&&n.used)t["x"+n.n]=n.c2p(e.left)}for(i=0;i<g.length;++i){n=g[i];if(n&&n.used)t["y"+n.n]=n.c2p(e.top)}if(t.x1!==undefined)t.x=t.x1;if(t.y1!==undefined)t.y=t.y1;return t}function A(e){var t={},i,n,r;for(i=0;i<p.length;++i){n=p[i];if(n&&n.used){r="x"+n.n;if(e[r]==null&&n.n==1)r="x";if(e[r]!=null){t.left=n.p2c(e[r]);break}}}for(i=0;i<g.length;++i){n=g[i];if(n&&n.used){r="y"+n.n;if(e[r]==null&&n.n==1)r="y";if(e[r]!=null){t.top=n.p2c(e[r]);break}}}return t}function I(t,i){if(!t[i-1])t[i-1]={n:i,direction:t==p?"x":"y",options:e.extend(true,{},t==p?s.xaxis:s.yaxis)};return t[i-1]}function W(){var t=l.length,i=-1,n;for(n=0;n<l.length;++n){var r=l[n].color;if(r!=null){t--;if(typeof r=="number"&&r>i){i=r}}}if(t<=i){t=i+1}var o,a=[],f=s.colors,c=f.length,u=0;for(n=0;n<t;n++){o=e.color.parse(f[n%c]||"#666");if(n%c==0&&n){if(u>=0){if(u<.5){u=-u-.2}else u=0}else u=-u}a[n]=o.scale("rgb",1+u)}var h=0,d;for(n=0;n<l.length;++n){d=l[n];if(d.color==null){d.color=a[h].toString();++h}else if(typeof d.color=="number")d.color=a[d.color].toString();if(d.lines.show==null){var m,v=true;for(m in d)if(d[m]&&d[m].show){v=false;break}if(v)d.lines.show=true}if(d.lines.zero==null){d.lines.zero=!!d.lines.fill}d.xaxis=I(p,z(d,"x"));d.yaxis=I(g,z(d,"y"))}}function O(){var t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,n=Number.MAX_VALUE,r,o,a,s,f,c,u,h,d,p,g,m,v,x,k,w;function M(e,t,i){if(t<e.datamin&&t!=-n)e.datamin=t;if(i>e.datamax&&i!=n)e.datamax=i}e.each(C(),function(e,n){n.datamin=t;n.datamax=i;n.used=false});for(r=0;r<l.length;++r){c=l[r];c.datapoints={points:[]};y(b.processRawData,[c,c.data,c.datapoints])}for(r=0;r<l.length;++r){c=l[r];k=c.data;w=c.datapoints.format;if(!w){w=[];w.push({x:true,number:true,required:true});w.push({y:true,number:true,required:true});if(c.bars.show||c.lines.show&&c.lines.fill){var T=!!(c.bars.show&&c.bars.zero||c.lines.show&&c.lines.zero);w.push({y:true,number:true,required:false,defaultValue:0,autoscale:T});if(c.bars.horizontal){delete w[w.length-1].y;w[w.length-1].x=true}}c.datapoints.format=w}if(c.datapoints.pointsize!=null)continue;c.datapoints.pointsize=w.length;h=c.datapoints.pointsize;u=c.datapoints.points;var S=c.lines.show&&c.lines.steps;c.xaxis.used=c.yaxis.used=true;for(o=a=0;o<k.length;++o,a+=h){x=k[o];var z=x==null;if(!z){for(s=0;s<h;++s){m=x[s];v=w[s];if(v){if(v.number&&m!=null){m=+m;if(isNaN(m))m=null;else if(m==Infinity)m=n;else if(m==-Infinity)m=-n}if(m==null){if(v.required)z=true;if(v.defaultValue!=null)m=v.defaultValue}}u[a+s]=m}}if(z){for(s=0;s<h;++s){m=u[a+s];if(m!=null){v=w[s];if(v.autoscale!==false){if(v.x){M(c.xaxis,m,m)}if(v.y){M(c.yaxis,m,m)}}}u[a+s]=null}}else{if(S&&a>0&&u[a-h]!=null&&u[a-h]!=u[a]&&u[a-h+1]!=u[a+1]){for(s=0;s<h;++s)u[a+h+s]=u[a+s];u[a+1]=u[a-h+1];a+=h}}}}for(r=0;r<l.length;++r){c=l[r];y(b.processDatapoints,[c,c.datapoints])}for(r=0;r<l.length;++r){c=l[r];u=c.datapoints.points;h=c.datapoints.pointsize;w=c.datapoints.format;var P=t,A=t,I=i,W=i;for(o=0;o<u.length;o+=h){if(u[o]==null)continue;for(s=0;s<h;++s){m=u[o+s];v=w[s];if(!v||v.autoscale===false||m==n||m==-n)continue;if(v.x){if(m<P)P=m;if(m>I)I=m}if(v.y){if(m<A)A=m;if(m>W)W=m}}}if(c.bars.show){var O;switch(c.bars.align){case"left":O=0;break;case"right":O=-c.bars.barWidth;break;default:O=-c.bars.barWidth/2}if(c.bars.horizontal){A+=O;W+=O+c.bars.barWidth}else{P+=O;I+=O+c.bars.barWidth}}M(c.xaxis,P,I);M(c.yaxis,A,W)}e.each(C(),function(e,n){if(n.datamin==t)n.datamin=null;if(n.datamax==i)n.datamax=null})}function D(){t.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove();if(t.css("position")=="static")t.css("position","relative");f=new i("flot-base",t);c=new i("flot-overlay",t);h=f.context;d=c.context;u=e(c.element).unbind();var n=t.data("plot");if(n){n.shutdown();c.clear()}t.data("plot",k)}function F(){if(s.grid.hoverable){u.mousemove(le);u.bind("mouseleave",se)}if(s.grid.clickable)u.click(fe);y(b.bindEvents,[u])}function N(){if(oe)clearTimeout(oe);u.unbind("mousemove",le);u.unbind("mouseleave",se);u.unbind("click",fe);y(b.shutdown,[u])}function R(e){function t(e){return e}var i,n,r=e.options.transform||t,o=e.options.inverseTransform;if(e.direction=="x"){i=e.scale=v/Math.abs(r(e.max)-r(e.min));n=Math.min(r(e.max),r(e.min))}else{i=e.scale=x/Math.abs(r(e.max)-r(e.min));i=-i;n=Math.max(r(e.max),r(e.min))}if(r==t)e.p2c=function(e){return(e-n)*i};else e.p2c=function(e){return(r(e)-n)*i};if(!o)e.c2p=function(e){return n+e/i};else e.c2p=function(e){return o(n+e/i)}}function H(e){var t=e.options,i=e.ticks||[],n=t.labelWidth||0,r=t.labelHeight||0,o=n||(e.direction=="x"?Math.floor(f.width/(i.length||1)):null),a=e.direction+"Axis "+e.direction+e.n+"Axis",l="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+a,s=t.font||"flot-tick-label tickLabel";for(var c=0;c<i.length;++c){var u=i[c];if(!u.label)continue;var h=f.getTextInfo(l,u.label,s,null,o);n=Math.max(n,h.width);r=Math.max(r,h.height)}e.labelWidth=t.labelWidth||n;e.labelHeight=t.labelHeight||r}function L(t){var i=t.labelWidth,n=t.labelHeight,r=t.options.position,o=t.direction==="x",a=t.options.tickLength,l=s.grid.axisMargin,c=s.grid.labelMargin,u=true,h=true,d=true,v=false;e.each(o?p:g,function(e,i){if(i&&i.reserveSpace){if(i===t){v=true}else if(i.options.position===r){if(v){h=false}else{u=false}}if(!v){d=false}}});if(h){l=0}if(a==null){a=d?"full":5}if(!isNaN(+a))c+=+a;if(o){n+=c;if(r=="bottom"){m.bottom+=n+l;t.box={top:f.height-m.bottom,height:n}}else{t.box={top:m.top+l,height:n};m.top+=n+l}}else{i+=c;if(r=="left"){t.box={left:m.left+l,width:i};m.left+=i+l}else{m.right+=i+l;t.box={left:f.width-m.right,width:i}}}t.position=r;t.tickLength=a;t.box.padding=c;t.innermost=u}function q(e){if(e.direction=="x"){e.box.left=m.left-e.labelWidth/2;e.box.width=f.width-m.left-m.right+e.labelWidth}else{e.box.top=m.top-e.labelHeight/2;e.box.height=f.height-m.bottom-m.top+e.labelHeight}}function Y(){var t=s.grid.minBorderMargin,i,n;if(t==null){t=0;for(n=0;n<l.length;++n)t=Math.max(t,2*(l[n].points.radius+l[n].points.lineWidth/2))}var r={left:t,right:t,top:t,bottom:t};e.each(C(),function(e,t){if(t.reserveSpace&&t.ticks&&t.ticks.length){var i=t.ticks[t.ticks.length-1];if(t.direction==="x"){r.left=Math.max(r.left,t.labelWidth/2);if(i.v<=t.max){r.right=Math.max(r.right,t.labelWidth/2)}}else{r.bottom=Math.max(r.bottom,t.labelHeight/2);if(i.v<=t.max){r.top=Math.max(r.top,t.labelHeight/2)}}}});m.left=Math.ceil(Math.max(r.left,m.left));m.right=Math.ceil(Math.max(r.right,m.right));m.top=Math.ceil(Math.max(r.top,m.top));m.bottom=Math.ceil(Math.max(r.bottom,m.bottom))}function j(){var t,i=C(),n=s.grid.show;for(var r in m){var o=s.grid.margin||0;m[r]=typeof o=="number"?o:o[r]||0}y(b.processOffset,[m]);for(var r in m){if(typeof s.grid.borderWidth=="object"){m[r]+=n?s.grid.borderWidth[r]:0}else{m[r]+=n?s.grid.borderWidth:0}}e.each(i,function(e,t){t.show=t.options.show;if(t.show==null)t.show=t.used;t.reserveSpace=t.show||t.options.reserveSpace;E(t)});if(n){var a=e.grep(i,function(e){return e.reserveSpace});e.each(a,function(e,t){B(t);X(t);G(t,t.ticks);H(t)});for(t=a.length-1;t>=0;--t)L(a[t]);Y();e.each(a,function(e,t){q(t)})}v=f.width-m.left-m.right;x=f.height-m.bottom-m.top;e.each(i,function(e,t){R(t)});if(n){U()}ne()}function E(e){var t=e.options,i=+(t.min!=null?t.min:e.datamin),n=+(t.max!=null?t.max:e.datamax),r=n-i;if(r==0){var o=n==0?1:.01;if(t.min==null)i-=o;if(t.max==null||t.min!=null)n+=o}else{var a=t.autoscaleMargin;if(a!=null){if(t.min==null){i-=r*a;if(i<0&&e.datamin!=null&&e.datamin>=0)i=0}if(t.max==null){n+=r*a;if(n>0&&e.datamax!=null&&e.datamax<=0)n=0}}}e.min=i;e.max=n}function B(t){var i=t.options;var n;if(typeof i.ticks=="number"&&i.ticks>0)n=i.ticks;else n=.3*Math.sqrt(t.direction=="x"?f.width:f.height);var o=(t.max-t.min)/n,a=-Math.floor(Math.log(o)/Math.LN10),l=i.tickDecimals;if(l!=null&&a>l){a=l}var s=Math.pow(10,-a),c=o/s,u;if(c<1.5){u=1}else if(c<3){u=2;if(c>2.25&&(l==null||a+1<=l)){u=2.5;++a}}else if(c<7.5){u=5}else{u=10}u*=s;if(i.minTickSize!=null&&u<i.minTickSize){u=i.minTickSize}t.delta=o;t.tickDecimals=Math.max(0,l!=null?l:a);t.tickSize=i.tickSize||u;if(i.mode=="time"&&!t.tickGenerator){throw new Error("Time mode requires the flot.time plugin.")}if(!t.tickGenerator){t.tickGenerator=function(e){var t=[],i=r(e.min,e.tickSize),n=0,o=Number.NaN,a;do{a=o;o=i+n*e.tickSize;t.push(o);++n}while(o<e.max&&o!=a);return t};t.tickFormatter=function(e,t){var i=t.tickDecimals?Math.pow(10,t.tickDecimals):1;var n=""+Math.round(e*i)/i;if(t.tickDecimals!=null){var r=n.indexOf(".");var o=r==-1?0:n.length-r-1;if(o<t.tickDecimals){return(o?n:n+".")+(""+i).substr(1,t.tickDecimals-o)}}return n}}if(e.isFunction(i.tickFormatter))t.tickFormatter=function(e,t){return""+i.tickFormatter(e,t)};if(i.alignTicksWithAxis!=null){var h=(t.direction=="x"?p:g)[i.alignTicksWithAxis-1];if(h&&h.used&&h!=t){var d=t.tickGenerator(t);if(d.length>0){if(i.min==null)t.min=Math.min(t.min,d[0]);if(i.max==null&&d.length>1)t.max=Math.max(t.max,d[d.length-1])}t.tickGenerator=function(e){var t=[],i,n;for(n=0;n<h.ticks.length;++n){i=(h.ticks[n].v-h.min)/(h.max-h.min);i=e.min+i*(e.max-e.min);t.push(i)}return t};if(!t.mode&&i.tickDecimals==null){var m=Math.max(0,-Math.floor(Math.log(t.delta)/Math.LN10)+1),v=t.tickGenerator(t);if(!(v.length>1&&/\..*0$/.test((v[1]-v[0]).toFixed(m))))t.tickDecimals=m}}}}function X(t){var i=t.options.ticks,n=[];if(i==null||typeof i=="number"&&i>0)n=t.tickGenerator(t);else if(i){if(e.isFunction(i))n=i(t);else n=i}var r,o;t.ticks=[];for(r=0;r<n.length;++r){var a=null;var l=n[r];if(typeof l=="object"){o=+l[0];if(l.length>1)a=l[1]}else o=+l;if(a==null)a=t.tickFormatter(o,t);if(!isNaN(o))t.ticks.push({v:o,label:a})}}function G(e,t){if(e.options.autoscaleMargin&&t.length>0){if(e.options.min==null)e.min=Math.min(e.min,t[0].v);if(e.options.max==null&&t.length>1)e.max=Math.max(e.max,t[t.length-1].v)}}function _(){f.clear();y(b.drawBackground,[h]);var e=s.grid;if(e.show&&e.backgroundColor)J();if(e.show&&!e.aboveData){V()}for(var t=0;t<l.length;++t){y(b.drawSeries,[h,l[t]]);$(l[t])}y(b.draw,[h]);if(e.show&&e.aboveData){V()}f.render();ue()}function Q(e,t){var i,n,r,o,a=C();for(var l=0;l<a.length;++l){i=a[l];if(i.direction==t){o=t+i.n+"axis";if(!e[o]&&i.n==1)o=t+"axis";if(e[o]){n=e[o].from;r=e[o].to;break}}}if(!e[o]){i=t=="x"?p[0]:g[0];n=e[t+"1"];r=e[t+"2"]}if(n!=null&&r!=null&&n>r){var s=n;n=r;r=s}return{from:n,to:r,axis:i}}function J(){h.save();h.translate(m.left,m.top);h.fillStyle=xe(s.grid.backgroundColor,x,0,"rgba(255, 255, 255, 0)");h.fillRect(0,0,v,x);h.restore()}function V(){var t,i,n,r;h.save();h.translate(m.left,m.top);var o=s.grid.markings;if(o){if(e.isFunction(o)){i=k.getAxes();i.xmin=i.xaxis.min;i.xmax=i.xaxis.max;i.ymin=i.yaxis.min;i.ymax=i.yaxis.max;o=o(i)}for(t=0;t<o.length;++t){var a=o[t],l=Q(a,"x"),f=Q(a,"y");if(l.from==null)l.from=l.axis.min;if(l.to==null)l.to=l.axis.max;if(f.from==null)f.from=f.axis.min;if(f.to==null)f.to=f.axis.max;if(l.to<l.axis.min||l.from>l.axis.max||f.to<f.axis.min||f.from>f.axis.max)continue;l.from=Math.max(l.from,l.axis.min);l.to=Math.min(l.to,l.axis.max);f.from=Math.max(f.from,f.axis.min);f.to=Math.min(f.to,f.axis.max);if(l.from==l.to&&f.from==f.to)continue;l.from=l.axis.p2c(l.from);l.to=l.axis.p2c(l.to);f.from=f.axis.p2c(f.from);f.to=f.axis.p2c(f.to);if(l.from==l.to||f.from==f.to){h.beginPath();h.strokeStyle=a.color||s.grid.markingsColor;h.lineWidth=a.lineWidth||s.grid.markingsLineWidth;h.moveTo(l.from,f.from);h.lineTo(l.to,f.to);h.stroke()}else{h.fillStyle=a.color||s.grid.markingsColor;h.fillRect(l.from,f.to,l.to-l.from,f.from-f.to)}}}i=C();n=s.grid.borderWidth;for(var c=0;c<i.length;++c){var u=i[c],d=u.box,p=u.tickLength,g,b,y,w;if(!u.show||u.ticks.length==0)continue;h.lineWidth=1;if(u.direction=="x"){g=0;if(p=="full")b=u.position=="top"?0:x;else b=d.top-m.top+(u.position=="top"?d.height:0)}else{b=0;if(p=="full")g=u.position=="left"?0:v;else g=d.left-m.left+(u.position=="left"?d.width:0)}if(!u.innermost){h.strokeStyle=u.options.color;h.beginPath();y=w=0;if(u.direction=="x")y=v+1;else w=x+1;if(h.lineWidth==1){if(u.direction=="x"){b=Math.floor(b)+.5}else{g=Math.floor(g)+.5}}h.moveTo(g,b);h.lineTo(g+y,b+w);h.stroke()}h.strokeStyle=u.options.tickColor;h.beginPath();for(t=0;t<u.ticks.length;++t){var M=u.ticks[t].v;y=w=0;if(isNaN(M)||M<u.min||M>u.max||p=="full"&&(typeof n=="object"&&n[u.position]>0||n>0)&&(M==u.min||M==u.max))continue;if(u.direction=="x"){g=u.p2c(M);w=p=="full"?-x:p;if(u.position=="top")w=-w}else{b=u.p2c(M);y=p=="full"?-v:p;if(u.position=="left")y=-y}if(h.lineWidth==1){if(u.direction=="x")g=Math.floor(g)+.5;else b=Math.floor(b)+.5}h.moveTo(g,b);h.lineTo(g+y,b+w)}h.stroke()}if(n){r=s.grid.borderColor;if(typeof n=="object"||typeof r=="object"){if(typeof n!=="object"){n={top:n,right:n,bottom:n,left:n}}if(typeof r!=="object"){r={top:r,right:r,bottom:r,left:r}}if(n.top>0){h.strokeStyle=r.top;h.lineWidth=n.top;h.beginPath();h.moveTo(0-n.left,0-n.top/2);h.lineTo(v,0-n.top/2);h.stroke()}if(n.right>0){h.strokeStyle=r.right;h.lineWidth=n.right;h.beginPath();h.moveTo(v+n.right/2,0-n.top);h.lineTo(v+n.right/2,x);h.stroke()}if(n.bottom>0){h.strokeStyle=r.bottom;h.lineWidth=n.bottom;h.beginPath();h.moveTo(v+n.right,x+n.bottom/2);h.lineTo(0,x+n.bottom/2);h.stroke()}if(n.left>0){h.strokeStyle=r.left;h.lineWidth=n.left;h.beginPath();h.moveTo(0-n.left/2,x+n.bottom);h.lineTo(0-n.left/2,0);h.stroke()}}else{h.lineWidth=n;h.strokeStyle=s.grid.borderColor;h.strokeRect(-n/2,-n/2,v+n,x+n)}}h.restore()}function U(){e.each(C(),function(e,t){var i=t.box,n=t.direction+"Axis "+t.direction+t.n+"Axis",r="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+n,o=t.options.font||"flot-tick-label tickLabel",a,l,s,c,u;f.removeText(r);if(!t.show||t.ticks.length==0)return;for(var h=0;h<t.ticks.length;++h){a=t.ticks[h];if(!a.label||a.v<t.min||a.v>t.max)continue;if(t.direction=="x"){c="center";l=m.left+t.p2c(a.v);if(t.position=="bottom"){s=i.top+i.padding}else{s=i.top+i.height-i.padding;u="bottom"}}else{u="middle";s=m.top+t.p2c(a.v);if(t.position=="left"){l=i.left+i.width-i.padding;c="right"}else{l=i.left+i.padding}}f.addText(r,l,s,a.label,o,null,null,c,u)}})}function $(e){if(e.lines.show)K(e);if(e.bars.show)te(e);if(e.points.show)Z(e)}function K(e){function t(e,t,i,n,r){var o=e.points,a=e.pointsize,l=null,s=null;h.beginPath();for(var f=a;f<o.length;f+=a){var c=o[f-a],u=o[f-a+1],d=o[f],p=o[f+1];if(c==null||d==null)continue;if(u<=p&&u<r.min){if(p<r.min)continue;c=(r.min-u)/(p-u)*(d-c)+c;u=r.min}else if(p<=u&&p<r.min){if(u<r.min)continue;d=(r.min-u)/(p-u)*(d-c)+c;p=r.min}if(u>=p&&u>r.max){if(p>r.max)continue;c=(r.max-u)/(p-u)*(d-c)+c;u=r.max}else if(p>=u&&p>r.max){if(u>r.max)continue;d=(r.max-u)/(p-u)*(d-c)+c;p=r.max}if(c<=d&&c<n.min){if(d<n.min)continue;u=(n.min-c)/(d-c)*(p-u)+u;c=n.min}else if(d<=c&&d<n.min){if(c<n.min)continue;p=(n.min-c)/(d-c)*(p-u)+u;d=n.min}if(c>=d&&c>n.max){if(d>n.max)continue;u=(n.max-c)/(d-c)*(p-u)+u;c=n.max}else if(d>=c&&d>n.max){if(c>n.max)continue;p=(n.max-c)/(d-c)*(p-u)+u;d=n.max}if(c!=l||u!=s)h.moveTo(n.p2c(c)+t,r.p2c(u)+i);l=d;s=p;h.lineTo(n.p2c(d)+t,r.p2c(p)+i)}h.stroke()}function i(e,t,i){var n=e.points,r=e.pointsize,o=Math.min(Math.max(0,i.min),i.max),a=0,l,s=false,f=1,c=0,u=0;while(true){if(r>0&&a>n.length+r)break;a+=r;var d=n[a-r],p=n[a-r+f],g=n[a],m=n[a+f];if(s){if(r>0&&d!=null&&g==null){u=a;r=-r;f=2;continue}if(r<0&&a==c+r){h.fill();s=false;r=-r;f=1;a=c=u+r;continue}}if(d==null||g==null)continue;if(d<=g&&d<t.min){if(g<t.min)continue;p=(t.min-d)/(g-d)*(m-p)+p;d=t.min}else if(g<=d&&g<t.min){if(d<t.min)continue;m=(t.min-d)/(g-d)*(m-p)+p;g=t.min}if(d>=g&&d>t.max){if(g>t.max)continue;p=(t.max-d)/(g-d)*(m-p)+p;d=t.max}else if(g>=d&&g>t.max){if(d>t.max)continue;m=(t.max-d)/(g-d)*(m-p)+p;g=t.max}if(!s){h.beginPath();h.moveTo(t.p2c(d),i.p2c(o));s=true}if(p>=i.max&&m>=i.max){h.lineTo(t.p2c(d),i.p2c(i.max));h.lineTo(t.p2c(g),i.p2c(i.max));continue}else if(p<=i.min&&m<=i.min){h.lineTo(t.p2c(d),i.p2c(i.min));h.lineTo(t.p2c(g),i.p2c(i.min));continue}var v=d,x=g;if(p<=m&&p<i.min&&m>=i.min){d=(i.min-p)/(m-p)*(g-d)+d;p=i.min}else if(m<=p&&m<i.min&&p>=i.min){g=(i.min-p)/(m-p)*(g-d)+d;m=i.min}if(p>=m&&p>i.max&&m<=i.max){d=(i.max-p)/(m-p)*(g-d)+d;p=i.max}else if(m>=p&&m>i.max&&p<=i.max){g=(i.max-p)/(m-p)*(g-d)+d;m=i.max}if(d!=v){h.lineTo(t.p2c(v),i.p2c(p))}h.lineTo(t.p2c(d),i.p2c(p));h.lineTo(t.p2c(g),i.p2c(m));if(g!=x){h.lineTo(t.p2c(g),i.p2c(m));h.lineTo(t.p2c(x),i.p2c(m))}}}h.save();h.translate(m.left,m.top);h.lineJoin="round";var n=e.lines.lineWidth,r=e.shadowSize;if(n>0&&r>0){h.lineWidth=r;h.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;t(e.datapoints,Math.sin(o)*(n/2+r/2),Math.cos(o)*(n/2+r/2),e.xaxis,e.yaxis);h.lineWidth=r/2;t(e.datapoints,Math.sin(o)*(n/2+r/4),Math.cos(o)*(n/2+r/4),e.xaxis,e.yaxis)}h.lineWidth=n;h.strokeStyle=e.color;var a=ie(e.lines,e.color,0,x);if(a){h.fillStyle=a;i(e.datapoints,e.xaxis,e.yaxis)}if(n>0)t(e.datapoints,0,0,e.xaxis,e.yaxis);h.restore()}function Z(e){function t(e,t,i,n,r,o,a,l){var s=e.points,f=e.pointsize;for(var c=0;c<s.length;c+=f){var u=s[c],d=s[c+1];if(u==null||u<o.min||u>o.max||d<a.min||d>a.max)continue;h.beginPath();u=o.p2c(u);d=a.p2c(d)+n;if(l=="circle")h.arc(u,d,t,0,r?Math.PI:Math.PI*2,false);else l(h,u,d,t,r);h.closePath();if(i){h.fillStyle=i;h.fill()}h.stroke()}}h.save();h.translate(m.left,m.top);var i=e.points.lineWidth,n=e.shadowSize,r=e.points.radius,o=e.points.symbol;if(i==0)i=1e-4;if(i>0&&n>0){var a=n/2;h.lineWidth=a;h.strokeStyle="rgba(0,0,0,0.1)";t(e.datapoints,r,null,a+a/2,true,e.xaxis,e.yaxis,o);h.strokeStyle="rgba(0,0,0,0.2)";t(e.datapoints,r,null,a/2,true,e.xaxis,e.yaxis,o)}h.lineWidth=i;h.strokeStyle=e.color;t(e.datapoints,r,ie(e.points,e.color),0,false,e.xaxis,e.yaxis,o);h.restore()}function ee(e,t,i,n,r,o,a,l,s,f,c){var u,h,d,p,g,m,v,x,b;if(f){x=m=v=true;g=false;u=i;h=e;p=t+n;d=t+r;if(h<u){b=h;h=u;u=b;g=true;m=false}}else{g=m=v=true;x=false;u=e+n;h=e+r;d=i;p=t;if(p<d){b=p;p=d;d=b;x=true;v=false}}if(h<a.min||u>a.max||p<l.min||d>l.max)return;if(u<a.min){u=a.min;g=false}if(h>a.max){h=a.max;m=false}if(d<l.min){d=l.min;x=false}if(p>l.max){p=l.max;v=false}u=a.p2c(u);d=l.p2c(d);h=a.p2c(h);p=l.p2c(p);if(o){s.fillStyle=o(d,p);s.fillRect(u,p,h-u,d-p)}if(c>0&&(g||m||v||x)){s.beginPath();s.moveTo(u,d);if(g)s.lineTo(u,p);else s.moveTo(u,p);if(v)s.lineTo(h,p);else s.moveTo(h,p);if(m)s.lineTo(h,d);else s.moveTo(h,d);if(x)s.lineTo(u,d);else s.moveTo(u,d);s.stroke()}}function te(e){function t(t,i,n,r,o,a){var l=t.points,s=t.pointsize;for(var f=0;f<l.length;f+=s){if(l[f]==null)continue;ee(l[f],l[f+1],l[f+2],i,n,r,o,a,h,e.bars.horizontal,e.bars.lineWidth)}}h.save();h.translate(m.left,m.top);h.lineWidth=e.bars.lineWidth;h.strokeStyle=e.color;var i;switch(e.bars.align){case"left":i=0;break;case"right":i=-e.bars.barWidth;break;default:i=-e.bars.barWidth/2}var n=e.bars.fill?function(t,i){return ie(e.bars,e.color,t,i)}:null;t(e.datapoints,i,i+e.bars.barWidth,n,e.xaxis,e.yaxis);h.restore()}function ie(t,i,n,r){var o=t.fill;if(!o)return null;if(t.fillColor)return xe(t.fillColor,n,r,i);var a=e.color.parse(i);a.a=typeof o=="number"?o:.4;a.normalize();return a.toString()}function ne(){if(s.legend.container!=null){e(s.legend.container).html("")}else{t.find(".legend").remove()}if(!s.legend.show){return}var i=[],n=[],r=false,o=s.legend.labelFormatter,a,f;for(var c=0;c<l.length;++c){a=l[c];if(a.label){f=o?o(a.label,a):a.label;if(f){n.push({label:f,color:a.color})}}}if(s.legend.sorted){if(e.isFunction(s.legend.sorted)){n.sort(s.legend.sorted)}else if(s.legend.sorted=="reverse"){n.reverse()}else{var u=s.legend.sorted!="descending";n.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=u?1:-1})}}for(var c=0;c<n.length;++c){var h=n[c];if(c%s.legend.noColumns==0){if(r)i.push("</tr>");i.push("<tr>");r=true}i.push('<td class="legendColorBox"><div style="border:1px solid '+s.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+h.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel">'+h.label+"</td>")}if(r)i.push("</tr>");if(i.length==0)return;var d='<table style="font-size:smaller;color:'+s.grid.color+'">'+i.join("")+"</table>";
if(s.legend.container!=null)e(s.legend.container).html(d);else{var p="",g=s.legend.position,v=s.legend.margin;if(v[0]==null)v=[v,v];if(g.charAt(0)=="n")p+="top:"+(v[1]+m.top)+"px;";else if(g.charAt(0)=="s")p+="bottom:"+(v[1]+m.bottom)+"px;";if(g.charAt(1)=="e")p+="right:"+(v[0]+m.right)+"px;";else if(g.charAt(1)=="w")p+="left:"+(v[0]+m.left)+"px;";var x=e('<div class="legend">'+d.replace('style="','style="position:absolute;'+p+";")+"</div>").appendTo(t);if(s.legend.backgroundOpacity!=0){var b=s.legend.backgroundColor;if(b==null){b=s.grid.backgroundColor;if(b&&typeof b=="string")b=e.color.parse(b);else b=e.color.extract(x,"background-color");b.a=1;b=b.toString()}var k=x.children();e('<div style="position:absolute;width:'+k.width()+"px;height:"+k.height()+"px;"+p+"background-color:"+b+';"> </div>').prependTo(x).css("opacity",s.legend.backgroundOpacity)}}}var re=[],oe=null;function ae(e,t,i){var n=s.grid.mouseActiveRadius,r=n*n+1,o=null,a=false,f,c,u;for(f=l.length-1;f>=0;--f){if(!i(l[f]))continue;var h=l[f],d=h.xaxis,p=h.yaxis,g=h.datapoints.points,m=d.c2p(e),v=p.c2p(t),x=n/d.scale,b=n/p.scale;u=h.datapoints.pointsize;if(d.options.inverseTransform)x=Number.MAX_VALUE;if(p.options.inverseTransform)b=Number.MAX_VALUE;if(h.lines.show||h.points.show){for(c=0;c<g.length;c+=u){var k=g[c],y=g[c+1];if(k==null)continue;if(k-m>x||k-m<-x||y-v>b||y-v<-b)continue;var w=Math.abs(d.p2c(k)-e),M=Math.abs(p.p2c(y)-t),T=w*w+M*M;if(T<r){r=T;o=[f,c/u]}}}if(h.bars.show&&!o){var S,z;switch(h.bars.align){case"left":S=0;break;case"right":S=-h.bars.barWidth;break;default:S=-h.bars.barWidth/2}z=S+h.bars.barWidth;for(c=0;c<g.length;c+=u){var k=g[c],y=g[c+1],C=g[c+2];if(k==null)continue;if(l[f].bars.horizontal?m<=Math.max(C,k)&&m>=Math.min(C,k)&&v>=y+S&&v<=y+z:m>=k+S&&m<=k+z&&v>=Math.min(C,y)&&v<=Math.max(C,y))o=[f,c/u]}}}if(o){f=o[0];c=o[1];u=l[f].datapoints.pointsize;return{datapoint:l[f].datapoints.points.slice(c*u,(c+1)*u),dataIndex:c,series:l[f],seriesIndex:f}}return null}function le(e){if(s.grid.hoverable)ce("plothover",e,function(e){return e["hoverable"]!=false})}function se(e){if(s.grid.hoverable)ce("plothover",e,function(e){return false})}function fe(e){ce("plotclick",e,function(e){return e["clickable"]!=false})}function ce(e,i,n){var r=u.offset(),o=i.pageX-r.left-m.left,a=i.pageY-r.top-m.top,l=P({left:o,top:a});l.pageX=i.pageX;l.pageY=i.pageY;var f=ae(o,a,n);if(f){f.pageX=parseInt(f.series.xaxis.p2c(f.datapoint[0])+r.left+m.left,10);f.pageY=parseInt(f.series.yaxis.p2c(f.datapoint[1])+r.top+m.top,10)}if(s.grid.autoHighlight){for(var c=0;c<re.length;++c){var h=re[c];if(h.auto==e&&!(f&&h.series==f.series&&h.point[0]==f.datapoint[0]&&h.point[1]==f.datapoint[1]))pe(h.series,h.point)}if(f)de(f.series,f.datapoint,e)}t.trigger(e,[l,f])}function ue(){var e=s.interaction.redrawOverlayInterval;if(e==-1){he();return}if(!oe)oe=setTimeout(he,e)}function he(){oe=null;d.save();c.clear();d.translate(m.left,m.top);var e,t;for(e=0;e<re.length;++e){t=re[e];if(t.series.bars.show)ve(t.series,t.point);else me(t.series,t.point)}d.restore();y(b.drawOverlay,[d])}function de(e,t,i){if(typeof e=="number")e=l[e];if(typeof t=="number"){var n=e.datapoints.pointsize;t=e.datapoints.points.slice(n*t,n*(t+1))}var r=ge(e,t);if(r==-1){re.push({series:e,point:t,auto:i});ue()}else if(!i)re[r].auto=false}function pe(e,t){if(e==null&&t==null){re=[];ue();return}if(typeof e=="number")e=l[e];if(typeof t=="number"){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var n=ge(e,t);if(n!=-1){re.splice(n,1);ue()}}function ge(e,t){for(var i=0;i<re.length;++i){var n=re[i];if(n.series==e&&n.point[0]==t[0]&&n.point[1]==t[1])return i}return-1}function me(t,i){var n=i[0],r=i[1],o=t.xaxis,a=t.yaxis,l=typeof t.highlightColor==="string"?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(n<o.min||n>o.max||r<a.min||r>a.max)return;var s=t.points.radius+t.points.lineWidth/2;d.lineWidth=s;d.strokeStyle=l;var f=1.5*s;n=o.p2c(n);r=a.p2c(r);d.beginPath();if(t.points.symbol=="circle")d.arc(n,r,f,0,2*Math.PI,false);else t.points.symbol(d,n,r,f,false);d.closePath();d.stroke()}function ve(t,i){var n=typeof t.highlightColor==="string"?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),r=n,o;switch(t.bars.align){case"left":o=0;break;case"right":o=-t.bars.barWidth;break;default:o=-t.bars.barWidth/2}d.lineWidth=t.bars.lineWidth;d.strokeStyle=n;ee(i[0],i[1],i[2]||0,o,o+t.bars.barWidth,function(){return r},t.xaxis,t.yaxis,d,t.bars.horizontal,t.bars.lineWidth)}function xe(t,i,n,r){if(typeof t=="string")return t;else{var o=h.createLinearGradient(0,n,0,i);for(var a=0,l=t.colors.length;a<l;++a){var s=t.colors[a];if(typeof s!="string"){var f=e.color.parse(r);if(s.brightness!=null)f=f.scale("rgb",s.brightness);if(s.opacity!=null)f.a*=s.opacity;s=f.toString()}o.addColorStop(a/(l-1),s)}return o}}}e.plot=function(t,i,r){var o=new n(e(t),i,r,e.plot.plugins);return o};e.plot.version="0.8.2";e.plot.plugins=[];e.fn.plot=function(t,i){return this.each(function(){e.plot(this,t,i)})};function r(e,t){return t*Math.floor(e/t)}})(jQuery);(function(e){var t={xaxis:{timezone:null,timeformat:null,twelveHourClock:false,monthNames:null}};function i(e,t){return t*Math.floor(e/t)}function n(e,t,i,n){if(typeof e.strftime=="function"){return e.strftime(t)}var r=function(e,t){e=""+e;t=""+(t==null?"0":t);return e.length==1?t+e:e};var o=[];var a=false;var l=e.getHours();var s=l<12;if(i==null){i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(n==null){n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}var f;if(l>12){f=l-12}else if(l==0){f=12}else{f=l}for(var c=0;c<t.length;++c){var u=t.charAt(c);if(a){switch(u){case"a":u=""+n[e.getDay()];break;case"b":u=""+i[e.getMonth()];break;case"d":u=r(e.getDate());break;case"e":u=r(e.getDate()," ");break;case"h":case"H":u=r(l);break;case"I":u=r(f);break;case"l":u=r(f," ");break;case"m":u=r(e.getMonth()+1);break;case"M":u=r(e.getMinutes());break;case"q":u=""+(Math.floor(e.getMonth()/3)+1);break;case"S":u=r(e.getSeconds());break;case"y":u=r(e.getFullYear()%100);break;case"Y":u=""+e.getFullYear();break;case"p":u=s?""+"am":""+"pm";break;case"P":u=s?""+"AM":""+"PM";break;case"w":u=""+e.getDay();break}o.push(u);a=false}else{if(u=="%"){a=true}else{o.push(u)}}}return o.join("")}function r(e){function t(e,t,i,n){e[t]=function(){return i[n].apply(i,arguments)}}var i={date:e};if(e.strftime!=undefined){t(i,"strftime",e,"strftime")}t(i,"getTime",e,"getTime");t(i,"setTime",e,"setTime");var n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"];for(var r=0;r<n.length;r++){t(i,"get"+n[r],e,"getUTC"+n[r]);t(i,"set"+n[r],e,"setUTC"+n[r])}return i}function o(e,t){if(t.timezone=="browser"){return new Date(e)}else if(!t.timezone||t.timezone=="utc"){return r(new Date(e))}else if(typeof timezoneJS!="undefined"&&typeof timezoneJS.Date!="undefined"){var i=new timezoneJS.Date;i.setTimezone(t.timezone);i.setTime(e);return i}else{return r(new Date(e))}}var a={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3};var l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]];var s=l.concat([[3,"month"],[6,"month"],[1,"year"]]);var f=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function c(t){t.hooks.processOptions.push(function(t,r){e.each(t.getAxes(),function(e,t){var r=t.options;if(r.mode=="time"){t.tickGenerator=function(e){var t=[];var n=o(e.min,r);var l=0;var c=r.tickSize&&r.tickSize[1]==="quarter"||r.minTickSize&&r.minTickSize[1]==="quarter"?f:s;if(r.minTickSize!=null){if(typeof r.tickSize=="number"){l=r.tickSize}else{l=r.minTickSize[0]*a[r.minTickSize[1]]}}for(var u=0;u<c.length-1;++u){if(e.delta<(c[u][0]*a[c[u][1]]+c[u+1][0]*a[c[u+1][1]])/2&&c[u][0]*a[c[u][1]]>=l){break}}var h=c[u][0];var d=c[u][1];if(d=="year"){if(r.minTickSize!=null&&r.minTickSize[1]=="year"){h=Math.floor(r.minTickSize[0])}else{var p=Math.pow(10,Math.floor(Math.log(e.delta/a.year)/Math.LN10));var g=e.delta/a.year/p;if(g<1.5){h=1}else if(g<3){h=2}else if(g<7.5){h=5}else{h=10}h*=p}if(h<1){h=1}}e.tickSize=r.tickSize||[h,d];var m=e.tickSize[0];d=e.tickSize[1];var v=m*a[d];if(d=="second"){n.setSeconds(i(n.getSeconds(),m))}else if(d=="minute"){n.setMinutes(i(n.getMinutes(),m))}else if(d=="hour"){n.setHours(i(n.getHours(),m))}else if(d=="month"){n.setMonth(i(n.getMonth(),m))}else if(d=="quarter"){n.setMonth(3*i(n.getMonth()/3,m))}else if(d=="year"){n.setFullYear(i(n.getFullYear(),m))}n.setMilliseconds(0);if(v>=a.minute){n.setSeconds(0)}if(v>=a.hour){n.setMinutes(0)}if(v>=a.day){n.setHours(0)}if(v>=a.day*4){n.setDate(1)}if(v>=a.month*2){n.setMonth(i(n.getMonth(),3))}if(v>=a.quarter*2){n.setMonth(i(n.getMonth(),6))}if(v>=a.year){n.setMonth(0)}var x=0;var b=Number.NaN;var k;do{k=b;b=n.getTime();t.push(b);if(d=="month"||d=="quarter"){if(m<1){n.setDate(1);var y=n.getTime();n.setMonth(n.getMonth()+(d=="quarter"?3:1));var w=n.getTime();n.setTime(b+x*a.hour+(w-y)*m);x=n.getHours();n.setHours(0)}else{n.setMonth(n.getMonth()+m*(d=="quarter"?3:1))}}else if(d=="year"){n.setFullYear(n.getFullYear()+m)}else{n.setTime(b+v)}}while(b<e.max&&b!=k);return t};t.tickFormatter=function(e,t){var i=o(e,t.options);if(r.timeformat!=null){return n(i,r.timeformat,r.monthNames,r.dayNames)}var l=t.options.tickSize&&t.options.tickSize[1]=="quarter"||t.options.minTickSize&&t.options.minTickSize[1]=="quarter";var s=t.tickSize[0]*a[t.tickSize[1]];var f=t.max-t.min;var c=r.twelveHourClock?" %p":"";var u=r.twelveHourClock?"%I":"%H";var h;if(s<a.minute){h=u+":%M:%S"+c}else if(s<a.day){if(f<2*a.day){h=u+":%M"+c}else{h="%b %d "+u+":%M"+c}}else if(s<a.month){h="%b %d"}else if(l&&s<a.quarter||!l&&s<a.year){if(f<a.year){h="%b"}else{h="%b %Y"}}else if(l&&s<a.year){if(f<a.year){h="Q%q"}else{h="Q%q %Y"}}else{h="%Y"}var d=n(i,h,r.monthNames,r.dayNames);return d}}})})}e.plot.plugins.push({init:c,options:t,name:"time",version:"1.0"});e.plot.formatDate=n})(jQuery);(function(e){var t={series:{stack:null}};function i(e){function t(e,t){var i=null;for(var n=0;n<t.length;++n){if(e==t[n])break;if(t[n].stack==e.stack)i=t[n]}return i}function i(e,i,n){if(i.stack==null||i.stack===false)return;var r=t(i,e.getData());if(!r)return;var o=n.pointsize,a=n.points,l=r.datapoints.pointsize,s=r.datapoints.points,f=[],c,u,h,d,p,g,m=i.lines.show,v=i.bars.horizontal,x=o>2&&(v?n.format[2].x:n.format[2].y),b=m&&i.lines.steps,k=true,y=v?1:0,w=v?0:1,M=0,T=0,S,z;while(true){if(M>=a.length)break;S=f.length;if(a[M]==null){for(z=0;z<o;++z)f.push(a[M+z]);M+=o}else if(T>=s.length){if(!m){for(z=0;z<o;++z)f.push(a[M+z])}M+=o}else if(s[T]==null){for(z=0;z<o;++z)f.push(null);k=true;T+=l}else{c=a[M+y];u=a[M+w];d=s[T+y];p=s[T+w];g=0;if(c==d){for(z=0;z<o;++z)f.push(a[M+z]);f[S+w]+=p;g=p;M+=o;T+=l}else if(c>d){if(m&&M>0&&a[M-o]!=null){h=u+(a[M-o+w]-u)*(d-c)/(a[M-o+y]-c);f.push(d);f.push(h+p);for(z=2;z<o;++z)f.push(a[M+z]);g=p}T+=l}else{if(k&&m){M+=o;continue}for(z=0;z<o;++z)f.push(a[M+z]);if(m&&T>0&&s[T-l]!=null)g=p+(s[T-l+w]-p)*(c-d)/(s[T-l+y]-d);f[S+w]+=g;M+=o}k=false;if(S!=f.length&&x)f[S+2]+=g}if(b&&S!=f.length&&S>0&&f[S]!=null&&f[S]!=f[S-o]&&f[S+1]!=f[S-o+1]){for(z=0;z<o;++z)f[S+o+z]=f[S+z];f[S+1]=f[S-o+1]}}n.points=f}e.hooks.processDatapoints.push(i)}e.plot.plugins.push({init:i,options:t,name:"stack",version:"1.2"})})(jQuery);(function(e){function t(e,t,i){var n={square:function(e,t,i,n,r){var o=n*Math.sqrt(Math.PI)/2;e.rect(t-o,i-o,o+o,o+o)},diamond:function(e,t,i,n,r){var o=n*Math.sqrt(Math.PI/2);e.moveTo(t-o,i);e.lineTo(t,i-o);e.lineTo(t+o,i);e.lineTo(t,i+o);e.lineTo(t-o,i)},triangle:function(e,t,i,n,r){var o=n*Math.sqrt(2*Math.PI/Math.sin(Math.PI/3));var a=o*Math.sin(Math.PI/3);e.moveTo(t-o/2,i+a/2);e.lineTo(t+o/2,i+a/2);if(!r){e.lineTo(t,i-a/2);e.lineTo(t-o/2,i+a/2)}},cross:function(e,t,i,n,r){var o=n*Math.sqrt(Math.PI)/2;e.moveTo(t-o,i-o);e.lineTo(t+o,i+o);e.moveTo(t-o,i+o);e.lineTo(t+o,i-o)}};var r=t.points.symbol;if(n[r])t.points.symbol=n[r]}function i(e){e.hooks.processDatapoints.push(t)}e.plot.plugins.push({init:i,name:"symbols",version:"1.0"})})(jQuery);(function(e){var t=10;var i=.95;function n(n){var r=null,o=null,a=null,l=null,s=null,f=null,c=false,u=null;var h=[];n.hooks.processOptions.push(function(e,t){if(t.series.pie.show){t.grid.show=false;if(t.series.pie.label.show=="auto"){if(t.legend.show){t.series.pie.label.show=false}else{t.series.pie.label.show=true}}if(t.series.pie.radius=="auto"){if(t.series.pie.label.show){t.series.pie.radius=3/4}else{t.series.pie.radius=1}}if(t.series.pie.tilt>1){t.series.pie.tilt=1}else if(t.series.pie.tilt<0){t.series.pie.tilt=0}}});n.hooks.bindEvents.push(function(e,t){var i=e.getOptions();if(i.series.pie.show){if(i.grid.hoverable){t.unbind("mousemove").mousemove(b)}if(i.grid.clickable){t.unbind("click").click(k)}}});n.hooks.processDatapoints.push(function(e,t,i,n){var r=e.getOptions();if(r.series.pie.show){d(e,t,i,n)}});n.hooks.drawOverlay.push(function(e,t){var i=e.getOptions();if(i.series.pie.show){S(e,t)}});n.hooks.draw.push(function(e,t){var i=e.getOptions();if(i.series.pie.show){g(e,t)}});function d(t,i,n){if(!c){c=true;r=t.getCanvas();o=e(r).parent();a=t.getOptions();t.setData(p(t.getData()))}}function p(t){var i=0,n=0,r=0,o=a.series.pie.combine.color,l=[];for(var s=0;s<t.length;++s){var f=t[s].data;if(e.isArray(f)&&f.length==1){f=f[0]}if(e.isArray(f)){if(!isNaN(parseFloat(f[1]))&&isFinite(f[1])){f[1]=+f[1]}else{f[1]=0}}else if(!isNaN(parseFloat(f))&&isFinite(f)){f=[1,+f]}else{f=[1,0]}t[s].data=[f]}for(var s=0;s<t.length;++s){i+=t[s].data[0][1]}for(var s=0;s<t.length;++s){var f=t[s].data[0][1];if(f/i<=a.series.pie.combine.threshold){n+=f;r++;if(!o){o=t[s].color}}}for(var s=0;s<t.length;++s){var f=t[s].data[0][1];if(r<2||f/i>a.series.pie.combine.threshold){l.push({data:[[1,f]],color:t[s].color,label:t[s].label,angle:f*Math.PI*2/i,percent:f/(i/100)})}}if(r>1){l.push({data:[[1,n]],color:o,label:a.series.pie.combine.label,angle:n*Math.PI*2/i,percent:n/(i/100)})}return l}function g(n,r){if(!o){return}var h=n.getPlaceholder().width(),d=n.getPlaceholder().height(),p=o.children().filter(".legend").children().width()||0;u=r;c=false;l=Math.min(h,d/a.series.pie.tilt)/2;f=d/2+a.series.pie.offset.top;s=h/2;if(a.series.pie.offset.left=="auto"){if(a.legend.position.match("w")){s+=p/2}else{s-=p/2}if(s<l){s=l}else if(s>h-l){s=h-l}}else{s+=a.series.pie.offset.left}var g=n.getData(),v=0;do{if(v>0){l*=i}v+=1;x();if(a.series.pie.tilt<=.8){b()}}while(!k()&&v<t);if(v>=t){x();o.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")}if(n.setSeries&&n.insertLegend){n.setSeries(g);n.insertLegend()}function x(){u.clearRect(0,0,h,d);o.children().filter(".pieLabel, .pieLabelBackground").remove()}function b(){var e=a.series.pie.shadow.left;var t=a.series.pie.shadow.top;var i=10;var n=a.series.pie.shadow.alpha;var r=a.series.pie.radius>1?a.series.pie.radius:l*a.series.pie.radius;if(r>=h/2-e||r*a.series.pie.tilt>=d/2-t||r<=i){return}u.save();u.translate(e,t);u.globalAlpha=n;u.fillStyle="#000";u.translate(s,f);u.scale(1,a.series.pie.tilt);for(var o=1;o<=i;o++){u.beginPath();u.arc(0,0,r,0,Math.PI*2,false);u.fill();r-=o}u.restore()}function k(){var t=Math.PI*a.series.pie.startAngle;var i=a.series.pie.radius>1?a.series.pie.radius:l*a.series.pie.radius;u.save();u.translate(s,f);u.scale(1,a.series.pie.tilt);u.save();var n=t;for(var r=0;r<g.length;++r){g[r].startAngle=n;c(g[r].angle,g[r].color,true)}u.restore();if(a.series.pie.stroke.width>0){u.save();u.lineWidth=a.series.pie.stroke.width;n=t;for(var r=0;r<g.length;++r){c(g[r].angle,a.series.pie.stroke.color,false)}u.restore()}m(u);u.restore();if(a.series.pie.label.show){return p()}else return true;function c(e,t,r){if(e<=0||isNaN(e)){return}if(r){u.fillStyle=t}else{u.strokeStyle=t;u.lineJoin="round"}u.beginPath();if(Math.abs(e-Math.PI*2)>1e-9){u.moveTo(0,0)}u.arc(0,0,i,n,n+e/2,false);u.arc(0,0,i,n+e/2,n+e,false);u.closePath();n+=e;if(r){u.fill()}else{u.stroke()}}function p(){var i=t;var n=a.series.pie.label.radius>1?a.series.pie.label.radius:l*a.series.pie.label.radius;for(var r=0;r<g.length;++r){if(g[r].percent>=a.series.pie.label.threshold*100){if(!c(g[r],i,r)){return false}}i+=g[r].angle}return true;function c(t,i,r){if(t.data[0][1]==0){return true}var l=a.legend.labelFormatter,c,u=a.series.pie.label.formatter;if(l){c=l(t.label,t)}else{c=t.label}if(u){c=u(c,t)}var p=(i+t.angle+i)/2;var g=s+Math.round(Math.cos(p)*n);var m=f+Math.round(Math.sin(p)*n)*a.series.pie.tilt;var v="<span class='pieLabel' id='pieLabel"+r+"' style='position:absolute;top:"+m+"px;left:"+g+"px;'>"+c+"</span>";o.append(v);var x=o.children("#pieLabel"+r);var b=m-x.height()/2;var k=g-x.width()/2;x.css("top",b);x.css("left",k);if(0-b>0||0-k>0||d-(b+x.height())<0||h-(k+x.width())<0){return false}if(a.series.pie.label.background.opacity!=0){var y=a.series.pie.label.background.color;if(y==null){y=t.color}var w="top:"+b+"px;left:"+k+"px;";e("<div class='pieLabelBackground' style='position:absolute;width:"+x.width()+"px;height:"+x.height()+"px;"+w+"background-color:"+y+";'></div>").css("opacity",a.series.pie.label.background.opacity).insertBefore(x)}return true}}}}function m(e){if(a.series.pie.innerRadius>0){e.save();var t=a.series.pie.innerRadius>1?a.series.pie.innerRadius:l*a.series.pie.innerRadius;e.globalCompositeOperation="destination-out";e.beginPath();e.fillStyle=a.series.pie.stroke.color;e.arc(0,0,t,0,Math.PI*2,false);e.fill();e.closePath();e.restore();e.save();e.beginPath();e.strokeStyle=a.series.pie.stroke.color;e.arc(0,0,t,0,Math.PI*2,false);e.stroke();e.closePath();e.restore()}}function v(e,t){for(var i=false,n=-1,r=e.length,o=r-1;++n<r;o=n)(e[n][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[n][1])&&t[0]<(e[o][0]-e[n][0])*(t[1]-e[n][1])/(e[o][1]-e[n][1])+e[n][0]&&(i=!i);return i}function x(e,t){var i=n.getData(),r=n.getOptions(),o=r.series.pie.radius>1?r.series.pie.radius:l*r.series.pie.radius,a,c;for(var h=0;h<i.length;++h){var d=i[h];if(d.pie.show){u.save();u.beginPath();u.moveTo(0,0);u.arc(0,0,o,d.startAngle,d.startAngle+d.angle/2,false);u.arc(0,0,o,d.startAngle+d.angle/2,d.startAngle+d.angle,false);u.closePath();a=e-s;c=t-f;if(u.isPointInPath){if(u.isPointInPath(e-s,t-f)){u.restore();return{datapoint:[d.percent,d.data],dataIndex:0,series:d,seriesIndex:h}}}else{var p=o*Math.cos(d.startAngle),g=o*Math.sin(d.startAngle),m=o*Math.cos(d.startAngle+d.angle/4),x=o*Math.sin(d.startAngle+d.angle/4),b=o*Math.cos(d.startAngle+d.angle/2),k=o*Math.sin(d.startAngle+d.angle/2),y=o*Math.cos(d.startAngle+d.angle/1.5),w=o*Math.sin(d.startAngle+d.angle/1.5),M=o*Math.cos(d.startAngle+d.angle),T=o*Math.sin(d.startAngle+d.angle),S=[[0,0],[p,g],[m,x],[b,k],[y,w],[M,T]],z=[a,c];if(v(S,z)){u.restore();return{datapoint:[d.percent,d.data],dataIndex:0,series:d,seriesIndex:h}}}u.restore()}}return null}function b(e){y("plothover",e)}function k(e){y("plotclick",e)}function y(e,t){var i=n.offset();var r=parseInt(t.pageX-i.left);var l=parseInt(t.pageY-i.top);var s=x(r,l);if(a.grid.autoHighlight){for(var f=0;f<h.length;++f){var c=h[f];if(c.auto==e&&!(s&&c.series==s.series)){M(c.series)}}}if(s){w(s.series,e)}var u={pageX:t.pageX,pageY:t.pageY};o.trigger(e,[u,s])}function w(e,t){var i=T(e);if(i==-1){h.push({series:e,auto:t});n.triggerRedrawOverlay()}else if(!t){h[i].auto=false}}function M(e){if(e==null){h=[];n.triggerRedrawOverlay()}var t=T(e);if(t!=-1){h.splice(t,1);n.triggerRedrawOverlay()}}function T(e){for(var t=0;t<h.length;++t){var i=h[t];if(i.series==e)return t}return-1}function S(e,t){var i=e.getOptions();var n=i.series.pie.radius>1?i.series.pie.radius:l*i.series.pie.radius;t.save();t.translate(s,f);t.scale(1,i.series.pie.tilt);for(var r=0;r<h.length;++r){o(h[r].series)}m(t);t.restore();function o(e){if(e.angle<=0||isNaN(e.angle)){return}t.fillStyle="rgba(255, 255, 255, "+i.series.pie.highlight.opacity+")";t.beginPath();if(Math.abs(e.angle-Math.PI*2)>1e-9){t.moveTo(0,0)}t.arc(0,0,n,e.startAngle,e.startAngle+e.angle/2,false);t.arc(0,0,n,e.startAngle+e.angle/2,e.startAngle+e.angle,false);t.closePath();t.fill()}}}var r={series:{pie:{show:false,radius:"auto",innerRadius:0,startAngle:3/2,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(e,t){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+t.color+";'>"+e+"<br/>"+Math.round(t.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};e.plot.plugins.push({init:n,options:r,name:"pie",version:"1.1"})})(jQuery);(function(e){function t(t){var i={first:{x:-1,y:-1},second:{x:-1,y:-1},show:false,active:false};var n={};var r=null;function o(e){if(i.active){h(e);t.getPlaceholder().trigger("plotselecting",[s()])}}function a(t){if(t.which!=1)return;document.body.focus();if(document.onselectstart!==undefined&&n.onselectstart==null){n.onselectstart=document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!==undefined&&n.ondrag==null){n.ondrag=document.ondrag;document.ondrag=function(){return false}}u(i.first,t);i.active=true;r=function(e){l(e)};e(document).one("mouseup",r)}function l(e){r=null;if(document.onselectstart!==undefined)document.onselectstart=n.onselectstart;if(document.ondrag!==undefined)document.ondrag=n.ondrag;i.active=false;h(e);if(m())f();else{t.getPlaceholder().trigger("plotunselected",[]);t.getPlaceholder().trigger("plotselecting",[null])}return false}function s(){if(!m())return null;if(!i.show)return null;var n={},r=i.first,o=i.second;e.each(t.getAxes(),function(e,t){if(t.used){var i=t.c2p(r[t.direction]),a=t.c2p(o[t.direction]);n[e]={from:Math.min(i,a),to:Math.max(i,a)}}});return n}function f(){var e=s();t.getPlaceholder().trigger("plotselected",[e]);if(e.xaxis&&e.yaxis)t.getPlaceholder().trigger("selected",[{x1:e.xaxis.from,y1:e.yaxis.from,x2:e.xaxis.to,y2:e.yaxis.to}])}function c(e,t,i){return t<e?e:t>i?i:t}function u(e,n){var r=t.getOptions();var o=t.getPlaceholder().offset();var a=t.getPlotOffset();e.x=c(0,n.pageX-o.left-a.left,t.width());e.y=c(0,n.pageY-o.top-a.top,t.height());if(r.selection.mode=="y")e.x=e==i.first?0:t.width();if(r.selection.mode=="x")e.y=e==i.first?0:t.height()}function h(e){if(e.pageX==null)return;u(i.second,e);if(m()){i.show=true;t.triggerRedrawOverlay()}else d(true)}function d(e){if(i.show){i.show=false;t.triggerRedrawOverlay();if(!e)t.getPlaceholder().trigger("plotunselected",[])}}function p(e,i){var n,r,o,a,l=t.getAxes();for(var s in l){n=l[s];if(n.direction==i){a=i+n.n+"axis";if(!e[a]&&n.n==1)a=i+"axis";if(e[a]){r=e[a].from;o=e[a].to;break}}}if(!e[a]){n=i=="x"?t.getXAxes()[0]:t.getYAxes()[0];r=e[i+"1"];o=e[i+"2"]}if(r!=null&&o!=null&&r>o){var f=r;r=o;o=f}return{from:r,to:o,axis:n}}function g(e,n){var r,o,a=t.getOptions();if(a.selection.mode=="y"){i.first.x=0;i.second.x=t.width()}else{o=p(e,"x");i.first.x=o.axis.p2c(o.from);i.second.x=o.axis.p2c(o.to)}if(a.selection.mode=="x"){i.first.y=0;i.second.y=t.height()}else{o=p(e,"y");i.first.y=o.axis.p2c(o.from);i.second.y=o.axis.p2c(o.to)}i.show=true;t.triggerRedrawOverlay();if(!n&&m())f()}function m(){var e=t.getOptions().selection.minSize;return Math.abs(i.second.x-i.first.x)>=e&&Math.abs(i.second.y-i.first.y)>=e}t.clearSelection=d;t.setSelection=g;t.getSelection=s;t.hooks.bindEvents.push(function(e,t){var i=e.getOptions();if(i.selection.mode!=null){t.mousemove(o);t.mousedown(a)}});t.hooks.drawOverlay.push(function(t,n){if(i.show&&m()){var r=t.getPlotOffset();var o=t.getOptions();n.save();n.translate(r.left,r.top);var a=e.color.parse(o.selection.color);n.strokeStyle=a.scale("a",.8).toString();n.lineWidth=1;n.lineJoin=o.selection.shape;n.fillStyle=a.scale("a",.4).toString();var l=Math.min(i.first.x,i.second.x)+.5,s=Math.min(i.first.y,i.second.y)+.5,f=Math.abs(i.second.x-i.first.x)-1,c=Math.abs(i.second.y-i.first.y)-1;n.fillRect(l,s,f,c);n.strokeRect(l,s,f,c);n.restore()}});t.hooks.shutdown.push(function(t,i){i.unbind("mousemove",o);i.unbind("mousedown",a);if(r)e(document).unbind("mouseup",r)})}e.plot.plugins.push({init:t,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})})(jQuery);