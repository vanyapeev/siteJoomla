(function(t){var e=[];var i={init:function(i){return this.each(function(){var o=this;var l=t(o).data("cbtooltip");if(l){return}l={};l.options=typeof i!="undefined"?i:{};l.defaults=t.fn.cbtooltip.defaults;l.settings=t.extend(true,{},l.defaults,l.options);l.element=t(o);if(l.settings.useData){t.each(l.defaults,function(t,e){if(t!="init"&&t!="id"&&t!="useData"){var i=l.element.data("cbtooltip"+t.charAt(0).toUpperCase()+t.slice(1));if(typeof i!="undefined"){if(t.indexOf("classes")!==-1){l.settings[t]+=" "+i}else{l.settings[t]=i}}else{i=l.element.data("cbtooltip"+t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());if(typeof i!="undefined"){if(t.indexOf("classes")!==-1){l.settings[t]+=" "+i}else{l.settings[t]=i}}}}})}l.element.triggerHandler("cbtooltip.init.before",[l]);if(l.element.parents('.cbTooltip,[data-hascbtooltip="true"]').length){l.settings.init=false}if(!l.settings.init){return}var s=l.settings.width==null&&l.defaults.width==null;var a=l.settings.clone!=null?l.settings.clone?true:false:true;var r=l.settings.modal!=null?l.settings.modal?true:false:false;var c=l.settings.dialog!=null?l.settings.dialog?true:false:false;var p=l.settings.menu!=null?l.settings.menu?true:false:false;var u=l.settings.buttonHide!=null?l.settings.buttonHide?true:false:false;var g=l.settings.tooltipTarget?t(l.settings.tooltipTarget).length?!a&&!l.settings.keepAlive?t(l.settings.tooltipTarget):null:null:null;var d=g&&g.length?g.parent():null;if(r||c){p=false}else if(p){r=false;c=false;if(l.settings.width!=l.element.data("width")){l.settings.width=null}}l.tooltiptype=r?"modal":c?"dialog":p?"menu":"tooltip";l.overlay=t('<div class="qtip-overlay" />');l.escapeHandler=function(t){if(t.which==27){l.tooltip.qtip("api").hide()}};var f=l.settings.closeEffect!=null?l.settings.closeEffect:!(p||r||c);l.tooltip=l.element.qtip({id:l.settings.id,overwrite:true,content:{text:l.settings.tooltipTarget?t(l.settings.tooltipTarget).length?a?t(l.settings.tooltipTarget).clone(true):t(l.settings.tooltipTarget):l.settings.tooltip?l.settings.tooltip:null:l.settings.tooltip?l.settings.tooltip:null,title:l.settings.titleTarget?t(l.settings.titleTarget).length?a?t(l.settings.titleTarget).clone(true):t(l.settings.titleTarget):l.settings.title?l.settings.title:null:l.settings.title?l.settings.title:null,button:l.settings.openEvent&&l.settings.openEvent.indexOf("click")!==-1||r||c?u||p?false:l.settings.buttonClose:false},position:{container:l.settings.container?t(l.settings.container).length?t(l.settings.container):l.settings.container:false,viewport:l.settings.viewport?t(l.settings.viewport).length?t(l.settings.viewport):l.settings.viewport:t(window),my:l.settings.positionMy?l.settings.positionMy:r||c?"center":"top left",at:l.settings.positionAt?l.settings.positionAt:p?"bottom left":r||c?"center":"bottom right",target:l.settings.positionTarget?l.settings.positionTarget=="mouse"?"mouse":t(l.settings.positionTarget).length?t(l.settings.positionTarget):false:r||c?t(window):false,adjust:{x:l.settings.adjustX!=null?l.settings.adjustX:0,y:l.settings.adjustY!=null?l.settings.adjustY:p?5:0,scroll:l.settings.adjustScroll!=null?l.settings.adjustScroll:true,resize:l.settings.adjustResize!=null?l.settings.adjustResize:true,method:l.settings.adjustMethod?l.settings.adjustMethod:"shift flipinvert"},effect:l.settings.positionEffect!=null?l.settings.positionEffect:false},show:{ready:l.settings.openReady!=null?l.settings.openReady:c,target:l.settings.openTarget?t(l.settings.openTarget).length?t(l.settings.openTarget):false:false,event:l.settings.openEvent?l.settings.openEvent:r||c?"click":"mouseenter click",solo:l.settings.openSolo!=null?t(l.settings.openSolo).length?t(l.settings.openSolo):l.settings.openSolo=="document"?t(document):l.settings.openSolo:r?t(document):false,delay:l.settings.openDelay!=null?l.settings.openDelay:0,modal:{on:r,escape:false,blur:false},effect:l.settings.openEffect!=null?l.settings.openEffect:!(p||r||c)},hide:{target:l.settings.closeTarget?t(l.settings.closeTarget).length?t(l.settings.closeTarget):false:false,event:l.settings.closeEvent?l.settings.closeEvent:r||c?"none":"mouseleave unfocus",fixed:l.settings.closeFixed!=null?l.settings.closeFixed:p||r||c,delay:l.settings.closeDelay!=null?l.settings.closeDelay:p?200:0,distance:l.settings.closeDistance!=null?l.settings.closeDistance:false,leave:l.settings.closeLeave!=null?l.settings.closeLeave:"window",inactive:l.settings.closeInactive!=null?l.settings.closeInactive:false,effect:f},style:{width:l.settings.width!=null?l.settings.width:false,height:l.settings.height!=null?l.settings.height:false,tip:{corner:l.settings.tipHide!=null?l.settings.tipHide:!(p||r||c),width:l.settings.tipWidth!=null?l.settings.tipWidth:6,height:l.settings.tipHeight!=null?l.settings.tipHeight:6,offset:l.settings.tipOffset!=null?l.settings.tipOffset:0},classes:(l.settings.classes?l.settings.classes:"")+(p?" qtip-menu":"")+(r?" qtip-modal":"")+(c?" qtip-dialog":"")+(s?" qtip-nowidth":"")},events:{render:function(e,i){l.element.triggerHandler("cbtooltip.render",[l,e,i]);t(i.elements.content).find('.cbTooltip,[data-hascbtooltip="true"]').each(function(){t(this).cbtooltip()});if(p){t(i.elements.content).on("click",function(){if(f){i.toggle(false)}else{setTimeout(function(){i.toggle(false)},100)}})}if(i.elements.tooltip){var n=t(window).width()-50;var o=i.elements.tooltip.width();if(o>n){i.set("style.width",n)}}if(i.elements.overlay){t(document).off("keydown.qtip-modal");i.elements.overlay.off("click.qtip-modal");i.elements.overlay.on("click",function(t){i.toggle(false)})}t(i.elements.content).on("click",".cbTooltipClose",function(t){t.preventDefault();i.toggle(false)})},show:function(e,i){l.element.triggerHandler("cbtooltip.show",[l,e,i]);if(l.settings.closeClasses){t(i.elements.target).removeClass(l.settings.closeClasses)}if(l.settings.openClasses){t(i.elements.target).addClass(l.settings.openClasses)}},hide:function(e,i){l.element.triggerHandler("cbtooltip.hide",[l,e,i]);if(l.settings.openClasses){t(i.elements.target).removeClass(l.settings.openClasses)}if(l.settings.closeClasses){t(i.elements.target).addClass(l.settings.closeClasses)}if(g&&g.length){d.append(g)}},toggle:function(t,e){l.element.triggerHandler("cbtooltip.toggle",[l,t,e])},visible:function(e,i){if(r){t(document).on("keydown",l.escapeHandler);if(i.options.position.adjust.scroll){t("body").addClass("cbTooltipModalOpen")}n.call(o,l,i)}else if(l.settings.overlay){l.overlay.insertBefore(i.elements.tooltip).css({zIndex:i.elements.tooltip.css("zIndex")-1,cursor:"default"})}l.element.triggerHandler("cbtooltip.visible",[l,e,i])},hidden:function(e,i){if(r){t(document).off("keydown",l.escapeHandler);if(i.options.position.adjust.scroll){t("body").removeClass("cbTooltipModalOpen")}}if(!r&&l.settings.overlay){l.overlay.remove()}l.element.triggerHandler("cbtooltip.hidden",[l,e,i]);if(c){if(!l.element.data("cbtooltip")){if(i.elements.overlay){i.elements.overlay.remove()}if(i.elements.tooltip){i.elements.tooltip.remove()}}else{l.element.cbtooltip("destroy");l.element.remove()}}else{if(!l.settings.keepAlive){if(!l.element.data("cbtooltip")){if(i.elements.overlay){i.elements.overlay.remove()}if(i.elements.tooltip){i.elements.tooltip.remove()}}else{l.options.id=i.get("id");l.element.cbtooltip("destroy");l.element.cbtooltip(l.options)}}}},move:function(t,e){if(r){n.call(o,l,e)}l.element.triggerHandler("cbtooltip.move",[l,t,e])},focus:function(t,e){l.element.triggerHandler("cbtooltip.focus",[l,t,e])},blur:function(t,e){l.element.triggerHandler("cbtooltip.blur",[l,t,e])}}});if(r||c){l.element.on("destroy.cbtooltip",function(){l.element.cbtooltip("destroy")})}else{l.element.on("remove destroy.cbtooltip",function(){l.element.cbtooltip("destroy")})}l.element.on("rebind.cbtooltip",function(){l.element.cbtooltip("rebind")});l.element.on("modified.cbtooltip",function(e,i,n,o){if(i!=n){var s=["tooltip-target","title-target","open-target","close-target","position-target"];t.each(s,function(t,e){var o=l.element.attr("data-cbtooltip-"+e);if(typeof o!="undefined"){l.element.attr("data-cbtooltip-"+e,o.replace(i,n))}var s=l.element.data("cbtooltip-"+e);if(typeof s!="undefined"){l.element.data("cbtooltip-"+e,s.replace(i,n))}});l.element.cbtooltip("rebind")}});l.element.on("cloned.cbtooltip",function(){t(this).off("destroy.cbtooltip");t(this).off("rebind.cbtooltip");t(this).off("cloned.cbtooltip");t(this).off("modified.cbtooltip");var e=t(this).data("qtip")._id;t(this).removeData("cbtooltip");t(this).removeData("hasqtip");t(this).removeData("qtip");t(this).removeAttr("data-hasqtip");t(this).off("."+e);t(this).cbtooltip(l.options)});l.element.triggerHandler("cbtooltip.init.after",[l]);l.element.data("cbtooltip",l);e.push(l)})},get:function(e){var i=t(this).data("cbtooltip");if(!i){return null}return i.tooltip.qtip("api").get(e)},set:function(e,i){var n=t(this).data("cbtooltip");if(!n){return this}n.tooltip.qtip("api").set(e,i);return this},toggle:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").toggle();return this},show:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").toggle(true);return this},hide:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").toggle(false);return this},enable:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").disable(false);e.element.triggerHandler("cbtooltip.enable",[e]);return this},disable:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").disable(true);e.element.triggerHandler("cbtooltip.disable",[e]);return this},reposition:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").reposition();return this},focus:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").focus();return this},blur:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").blur();return this},rebind:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.element.cbtooltip("destroy");e.element.cbtooltip(e.options);return this},destroy:function(){var i=t(this).data("cbtooltip");if(!i){return this}i.tooltip.qtip("api").destroy(true);i.element.off("destroy.cbtooltip");i.element.off("rebind.cbtooltip");i.element.off("cloned.cbtooltip");i.element.off("modified.cbtooltip");t.each(e,function(t,n){if(n.element==i.element){e.splice(t,1);return false}return true});i.element.removeData("cbtooltip");i.element.triggerHandler("cbtooltip.destroyed",[i]);return this},instances:function(){return e}};function n(t,e){if(e.elements.tooltip){e.elements.content.css("height","");e.elements.content.css("max-height","");var i=e.elements.tooltip.height();if(i){if(e.elements.titlebar){e.elements.titlebar.css("height","");e.elements.titlebar.css("max-height","");var n=e.elements.titlebar.outerHeight(true);if(n){e.elements.titlebar.css("height","100%");e.elements.titlebar.css("max-height",n);if(e.elements.content){e.elements.content.css("height","100%");e.elements.content.css("max-height",i-n)}}}else if(e.elements.content){e.elements.content.css("height","100%");e.elements.content.css("max-height",i)}}}}t.cbconfirm=function(e,n){var o=t.Deferred();var l=t("<div />").appendTo("body");l.data("cbtooltip-tooltip",e);l.data("cbtooltip-dialog",true);l.data("cbtooltip-button-hide",true);l.data("cbtooltip-width",false);l.data("cbtooltip-overlay",true);l.on("cbtooltip.render",function(e,i,n,l){t(l.elements.content).on("click",".cbTooltipButtonYes",function(t){o.resolve("yes")})}).on("cbtooltip.hidden",function(t,e,i,n){if(o.state()!="resolved"){o.reject("no")}});var s=i.init.apply(l,[n]);var a=s.data("cbtooltip");if(a&&(a.settings.buttonYes||a.settings.buttonNo)){e+='<div class="cbTooltipButtons text-right" style="margin-top: 10px;">'+(a.settings.buttonYes?'<button class="cbTooltipButtonYes btn btn-xs btn-primary cbTooltipClose">'+a.settings.buttonYes+"</button>":"")+(a.settings.buttonNo?' <button class="cbTooltipButtonNo btn btn-xs btn-default cbTooltipClose">'+a.settings.buttonNo+"</button>":"")+"</div>";s.cbtooltip("set","content.text",e)}return o.promise()};t.cbprompt=function(e,n){var o=t.Deferred();var l=t("<div />").appendTo("body");l.data("cbtooltip-tooltip",e);l.data("cbtooltip-dialog",true);l.data("cbtooltip-button-hide",true);l.data("cbtooltip-width",false);l.on("cbtooltip.hidden",function(t,e,i,n){o.resolve("yes")});var s=i.init.apply(l,[n]);var a=s.data("cbtooltip");if(a&&a.settings.buttonYes){e+='<div class="cbTooltipButtons text-right" style="margin-top: 10px;">'+'<button class="cbTooltipButtonYes btn btn-xs btn-primary cbTooltipClose">'+a.settings.buttonYes+"</button>"+"</div>";s.cbtooltip("set","content.text",e)}return o.promise()};t.cbdialog=function(e,n){var o=t("<div />").appendTo("body");o.data("cbtooltip-tooltip",e);o.data("cbtooltip-dialog",true);o.data("cbtooltip-width",false);return i.init.apply(o,[n])};t.cbmodal=function(e,n){var o=t("<div />").appendTo("body");o.data("cbtooltip-tooltip",e);o.data("cbtooltip-modal",true);o.data("cbtooltip-dialog",true);o.data("cbtooltip-width",false);return i.init.apply(o,[n])};t.fn.cbtooltip=function(t){if(i[t]){return i[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return i.init.apply(this,arguments)}return this};t.fn.cbtooltip.defaults={init:true,useData:true,id:null,tooltip:null,tooltipTarget:null,title:null,titleTarget:null,openReady:null,openEvent:null,openTarget:null,openClasses:null,openSolo:null,openDelay:null,openEffect:null,closeEvent:null,closeTarget:null,closeClasses:null,closeFixed:null,closeDelay:null,closeDistance:null,closeLeave:null,closeInactive:null,closeEffect:null,buttonHide:null,buttonClose:null,buttonYes:null,buttonNo:null,width:null,height:null,modal:null,dialog:null,menu:null,clone:null,classes:null,container:null,viewport:null,positionMy:null,positionAt:null,positionTarget:null,positionEffect:null,adjustX:null,adjustY:null,adjustScroll:null,adjustResize:null,adjustMethod:null,tipHide:null,tipWidth:null,tipHeight:null,tipOffset:null,keepAlive:null,overlay:null}})(jQuery);